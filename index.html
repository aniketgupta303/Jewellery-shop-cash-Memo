<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CashMemo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


  <style>
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background-color: rgb(253, 246, 150);
}

.infoContainer {
  height: 18vh;
  width: 90%; /* Use percentage for width */
  margin: 10px auto;
  display: flex;
  justify-content: space-around;
}

.devInfo {
  display: flex;
  flex-direction: column;
  font-family: 'Source Code Pro', monospace;
}

.name {
  font-size: 3vw; /* Use vw for font size */
  font-weight: bold;
  font-family: 'Playfair Display', serif;
}

.about {
  font-size: 1.5vw; /* Use vw for font size */
}

.devpic img,
.devipic img {
  height: 18vh;
  width: 15vh;
  margin-left: auto; /* Use auto to center */
}

#remark {
  margin-top: 2vw; /* Use vw for margin */
}

.card-body {
  margin-left: 0;
}

.btn {
  margin-top: 1vw; /* Use vw for margin */
}

.maa {
  height: 1vw;
  width: 15vh;
  margin-left: auto; /* Use auto to center */
}

@media print {
  body {
    background-color: #c0c25b;
  }

  .btn {
    display: none;
  }

  .devInfo {
    margin-left: 0;
  }

  

  .row {
    page-break-inside: avoid; /* Prevent breaking inside the row */
  }

  .mb-1,
  .mb-3 {
    margin-bottom: 0px; /* Adjust as needed for spacing between sections */
  }

  #remark {
    margin-top: 20px;
    margin-inline-start: 20px; /* Adjust as needed for spacing between remark and other sections */
  }
}


/* Add more media queries as needed for different screen sizes */

  </style>
</head>

<body style="background-color: rgb(253, 246, 150);">
  <h1 style="text-align: center;margin-bottom: 0;margin-top: 20px;font-size: 50px;font-weight: bolder;"><img src="/Jewellery-shop-cash-Memo/CashMemo/logo1.png
" alt="" style="width: 180px;height: 160px;">&nbsp;New Shivraj Jewellers</h1>
  <h6 style="text-align: center;margin-top: -40px;">Dindyalpur, Siwan Pin:841506, Bihar <br>Mobile: 6205920990 </h6>
  <div class="container" style="margin-top: 50px;">

    <div class="card-body">
      <div class="row">
        <div class="col-8">
          <div class="input-group mb-3" style="margin-top: 10px;">
            <span class="input-group-text" id="basic-addon1">Customer Name</span>
            <input type="text" class="form-control" placeholder="Enter Customer Name" aria-label="Username"
              aria-describedby="basic-addon1">
          </div>

          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">Address</span>
            <input type="text" class="form-control" placeholder="address" aria-label="Username"
              aria-describedby="basic-addon1">
          </div>

          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">Mob. No.</span>
            <input type="text" class="form-control" placeholder="Mob.no." aria-label="Username"
              aria-describedby="basic-addon1">
          </div>

          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">City</span>
            <input type="text" class="form-control" placeholder="city" aria-label="Username"
              aria-describedby="basic-addon1">
          </div>
        </div>
        <div class="col-4">

          <div style="margin-top: 10px; margin-bottom: 10px;">
            <span class="input-group-text" id="basic-addon1">Invoice No.</span>
            <input type="number" class="form-control" placeholder="Invoice No." aria-label="Username"
              aria-describedby="basic-addon1">
          </div>

          <div style="margin-bottom: 5px;">
            <span class="input-group-text" id="basic-addon1">Date</span>
            <input type="date" class="form-control" aria-label="Username" aria-describedby="basic-addon1">
          </div>

          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">Pin:</span>
            <input type="text" class="form-control" placeholder="Pin Code" aria-label="Username"
              aria-describedby="basic-addon1">
          </div>
        </div>

        <table id="myTable" class=" ">
          <thead class="head">
            <tr>
              <th scope="col" style="width: 5%; background-color: rgb(249, 40, 40);">No.</th>
              <th scope="col" style="width: 40%; padding-left: 20px; background-color: rgb(249, 40, 40);">Item
                Discription</th>
              <th scope="col" style="width: 10%; padding-left: 20px; background-color: rgb(249, 40, 40);">PCS</th>
              <th scope="col" style="width: 10%; padding-left: 20px; background-color: rgb(249, 40, 40);">Weight</th>
              <th scope="col" style="width: 15%; padding-left: 20px; background-color: rgb(249, 40, 40);">Amount</th>
              <th scope="col" style="width: 15%; padding-left: 20px; background-color: rgb(249, 40, 40);">Lbr Cost</th>
              <th scope="col" style="width: 15%; padding-left: 20px; background-color: rgb(249, 40, 40);">Total Amount
              </th>
              <th scope="col" style="background-color: rgb(249, 40, 40);"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> 1 </td>
              <td><input type="text" class="form-control "></td>
              <td><input type="number" class="form-control " name="qty" onchange="calculateRow(this);"></td>
              <td><input type="text" class="form-control " name="wgt"></td>
              <td><input type="number" class="form-control " name="Amount" onchange="calculateRow(this);"></td>
              <td><input type="number" class="form-control " name="lbr" onchange="calculateRow(this);"></td>
              <td><input type="number" class="form-control" name="tot"></td>
              <td><button type="button" class="btn btn-danger"
                  onclick="deleteRow(this.parentNode.parentNode.rowIndex)">X</button></td>
            </tr>

            

          </tbody>
        </table>

        <div class="col">
          <td><button type="button" class="btn btn-success" onclick="addRow()">Add Row</button></td>
        </div>

        <div class="row">
          <div class="col-8">
            <textarea name="Remark" id="remark" cols="50" rows="5"></textarea>
          </div>


          <div class="col-4">
            <div class=" mb-1">
              <span class="" id="basic-addon1">Add. CGST</span>
              <input type="text" class="form-control" id="cgst" name="cgst" aria-label="Username"
                aria-describedby="basic-addon1">
            </div>

            <div class=" mb-1">
              <span class="" id="basic-addon1">Add. SGST</span>
              <input type="text" class="form-control" id="sgst" name="sgst" aria-label="Username"
                aria-describedby="basic-addon1">
            </div>

            <div class=" mb-1">
              <span class="" id="basic-addon1">Total Amount</span>
              <input type="text" class="form-control" id="FTotal" name="FTotal" aria-label="Username"
                aria-describedby="basic-addon1">
            </div>

            <div class=" mb-3">
              <span class="" id="basic-addon1">Paid amount</span>
              <input type="text" class="form-control" id="paid" name="paid" aria-label="Username"
                aria-describedby="basic-addon1" onchange="paiddue()">
            </div>

            <div class=" mb-3">
              <span class="" id="basic-addon1">Due amount</span>
              <input type="text" class="form-control" id="due" name="due" aria-label="Username"
                aria-describedby="basic-addon1">
            </div>
            <div class="row">
              <div class="col" style="margin: left 0;">
                <td><button type="button" class="btn btn-success" onclick="GetPrint()">Print</button></td>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>


    function addRow() {
  let table = document.getElementById("myTable");
  let row = table.insertRow(-1); // Inserts a new row at the last position

  for (let i = 0; i < 8; i++) {
    let cell = row.insertCell(i);

    if (i === 0) {
      cell.innerHTML = table.rows.length - 1;
    } else if (i === 7) {
      cell.innerHTML =
        '<button type="button" class="btn btn-danger" onclick="deleteRow(this.parentNode.parentNode.rowIndex)">X</button>';
    } else if (i === 1) {
      cell.innerHTML = '<input type="text" class="form-control" name="description" onchange="calculateRow(this)">';
    } else if (i === 2) {
      cell.innerHTML = '<input type="number" class="form-control " name="qty" onchange="calculateRow(this);">';
    } else if (i === 3) {
      cell.innerHTML = '<input type="text" class="form-control" name="wgt">';
    } else if (i === 4) {
      cell.innerHTML = '<input type="number" class="form-control " name="Amount" onchange="calculateRow(this);">';
    } else if (i === 5) {
      cell.innerHTML = '<input type="number" class="form-control " name="lbr" onchange="calculateRow(this);">';
    } else if (i === 6) {
      cell.innerHTML = '<input type="number" class="form-control" name="tot">';
    }
  }
}





    function deleteRow(rowIndex) {
      let table = document.getElementById("myTable");
      table.deleteRow(rowIndex);
    }
  </script>

  <script>
    function GetPrint() {
      window.print();
    }

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

  <script>
    let total;
function calculateRow(input) {
  let row = input.closest('tr');
  let amount = parseFloat(row.querySelector('[name="Amount"]').value) || 0;
  let weight = parseFloat(row.querySelector('[name="wgt"]').value) || 0;
  let lbr = parseFloat(row.querySelector('[name="lbr"]').value) || 0;

  let totalAmount = weight * amount + lbr;
  row.querySelector('[name="tot"]').value = totalAmount.toFixed(2);

  // Recalculate total amount for all rows
  let table = document.getElementById("myTable");
  let rows = table.getElementsByTagName('tr');
  let grandTotal = 0;

  for (let i = 1; i < rows.length; i++) { // Start from 1 to skip header row
    let rowAmount = parseFloat(rows[i].querySelector('[name="Amount"]').value) || 0;
    let rowWeight = parseFloat(rows[i].querySelector('[name="wgt"]').value) || 0;
    let rowLbr = parseFloat(rows[i].querySelector('[name="lbr"]').value) || 0;

    let rowTotalAmount = rowWeight * rowAmount + rowLbr;
    rows[i].querySelector('[name="tot"]').value = rowTotalAmount.toFixed(2);

    grandTotal += rowTotalAmount; // Accumulate total amount for all rows
  }

  // Update grand total
  let sgst = (grandTotal * 1.5) / 100;
  let cgst = (grandTotal * 1.5) / 100;
  let total = grandTotal + sgst + cgst;
  document.getElementById('cgst').value = cgst.toFixed(2);
  document.getElementById('sgst').value = sgst.toFixed(2);
  document.getElementById('FTotal').value = total.toFixed(2);

}


  function paiddue() {
    let grandTotal = parseFloat(document.getElementById('FTotal').value) || 0;
    let paid = parseFloat(document.getElementById('paid').value) || 0;
    document.getElementById('due').value = (grandTotal - paid).toFixed(2);
  }


  </script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>



</body>

</html>
